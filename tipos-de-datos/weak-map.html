<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weak-set/Weat-map</title>
</head>
<body>
    <h1>Weak-set/Weat-map</h1>
    <script>
        /* 
        WEAKSET
        No se pueden recorrer, no son elementos iterables
        No se pueden borrar todos los elementos con un metodo
        No se puede saber cuantos elementos tiene
        El weakset al tener una valor nulo este de forma automatica se elimina
        Recordar que los sets son una especie de arreglos mejorados
        */

        const ws = new WeakSet();

        let valor1 = {"valor1": 1};
        let valor2 = {"valor1": 2};
        let valor3 = {"valor1": 3};

        //AÃ±adiendo elementos, tienen que ser objetos. Un valor primitivo como 1 no sirve
        ws.add(valor1);
        ws.add(valor2); 
        ws.add(valor3);
        
        console.log(ws);

        //Comprobar si tiene dicha referencia (valor)
        console.log(ws.has(valor1));
        console.log(ws.has(valor2));
        
        //Eliminar un valor
        ws.delete(valor3);
        console.log(ws);

        /*
        WEAKMAP
        Solo permite llaves de tipo objeto, y que esten referenciadas en alguna variable
        Recordar que los mapas son una especie de objetos mejorados
        */

        const wm = new WeakMap();
        let llave1 = {};
        let llave2 = {};
        let llave3 = {};

        //Agregar una llave
        wm.set(llave1, 1);
        wm.set(llave2, 2);

        console.log(wm);

        //Saber si existe la referencia
        console.log(wm.has(llave1));
        console.log(wm.has(llave3));

        //Obtener los valores
        console.log(wm.get(llave1));
        console.log(wm.get(llave2));
        console.log(wm.get(llave3));

        //Eliminar un elemento en particular
        wm.delete(llave2,2);
        console.log(wm);
        
        
        
    </script>
</body>
</html>